<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="300" height="300" style="border:1px solid #000000;">
</canvas>

<script>
    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    ctx.fillStyle = "rgba(255,0,0,0.25)";
    ctx.font = "90px Arial";
    var player = 1
    var blocks = [[],[],[]]

    for (let i = 1; i < 3; i++) {
        ctx.moveTo(0  , i * 100);
        ctx.lineTo(300, i * 100);
        ctx.moveTo(i * 100, 0  );
        ctx.lineTo(i * 100, 300);
    }
    ctx.stroke();

    
    for (let i = 0; i < 3; i++) {
        blocks[0][i] = ctx.fillRect(i * 100 ,   0, 100, 100);
        blocks[1][i] = ctx.fillRect(i * 100 , 100, 100, 100);
        blocks[2][i] = ctx.fillRect(i * 100 , 200, 100, 100);
    }

    
    
    
    canvas.addEventListener('click', onClick, false);
    function onClick (e) {
    var x = y = 0;
    x = e.clientX - canvas.offsetLeft;
    y = e.clientY - canvas.offsetTop;

    function Write(letter) {
        for (let i = 1; i < 4; i++) {
            if (x <= 100*i && y <= 100) {
                ctx.fillText(letter, 100*i - 80, 100 - 20);
                break
            }
            if (x <= 100*i && y <= 200 ) {
                ctx.fillText(letter, 100*i - 80, 200 - 20);
                break
            }
            if (x <= 100*i && y <= 300 ) {
                ctx.fillText(letter, 100*i - 80, 300 - 20);
                break
            }
        }
    }

    if (player == 1) {
        Write("O")
        player = 2
    }
    else{
        Write("X")
        player = 1
    }

    // http://www.inazumatv.com/contents/archives/7149 
    // https://kuroeveryday.blogspot.com/2019/04/how-to-detect-click-on-shape-on-canvas.html
    
};
</script>

</body>
</html>